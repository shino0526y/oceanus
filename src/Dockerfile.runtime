# DICOM サーバー実行環境
FROM debian:bookworm-slim AS dicom-server
RUN apt-get update && apt-get install -y ca-certificates && rm -rf /var/lib/apt/lists/*
WORKDIR /app
COPY dicom-server /usr/local/bin/
EXPOSE 104
CMD ["dicom-server"]

# Web API 実行環境
FROM debian:bookworm-slim AS web-api
RUN apt-get update && apt-get install -y ca-certificates && rm -rf /var/lib/apt/lists/*
WORKDIR /app
COPY web-api /usr/local/bin/
EXPOSE 8080
CMD ["web-api"]
